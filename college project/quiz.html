<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz Battle - Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    min-height: 100vh;
    background: linear-gradient(-45deg, #667eea, #764ba2, #00c6ff, #ff6ec4);
    background-size: 400% 400%;
    animation: gradientMove 12s ease infinite;
    color: white;
}

@keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.sidebar {
    height: 100vh;
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(15px);
    padding: 20px;
}

.sidebar a {
    display: block;
    color: white;
    padding: 10px;
    text-decoration: none;
    border-radius: 10px;
    margin-bottom: 10px;
    transition: 0.3s;
}

.sidebar a:hover {
    background: rgba(255,255,255,0.2);
}

.glass-card {
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(15px);
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.2);
    padding: 20px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
}

.stat-card {
    text-align: center;
    padding: 20px;
}

.btn-option {
    background: rgba(255,255,255,0.2);
    border: none;
    color: white;
    transition: 0.3s;
}

.btn-option:hover {
    background: rgba(255,255,255,0.4);
}
</style>
</head>

<body>

<div class="container-fluid">
<div class="row">

    <!-- Sidebar -->
    <div class="col-md-2 sidebar">
        <h4>üî• Quiz Battle</h4>
        <a href="#">üè† Dashboard</a>
        <a href="#">üìù Play Quiz</a>
        <a href="#">üèÜ Leaderboard</a>
        <a href="index.html">üö™ Logout</a>
    </div>

    <!-- Main Content -->
    <div class="col-md-10 p-4">

        <!-- Stats Row -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="glass-card stat-card">
                    <h6>Total Questions</h6>
                    <h3 id="totalQ">3</h3>
                </div>
            </div>

            <div class="col-md-4">
                <div class="glass-card stat-card">
                    <h6>Your Score</h6>
                    <h3 id="scoreStat">0</h3>
                </div>
            </div>

            <div class="col-md-4">
                <div class="glass-card stat-card">
                    <h6>Accuracy</h6>
                    <h3 id="accuracy">0%</h3>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="glass-card mb-4">
            <div class="d-flex justify-content-between">
                <h5 id="question"></h5>
                <span id="timer">‚è≥ 10</span>
            </div>

            <div id="options" class="mt-3"></div>

            <button id="nextBtn" class="btn btn-info mt-3">Next</button>
        </div>

        <!-- Leaderboard -->
        <div class="glass-card">
            <h5>üèÜ Leaderboard</h5>
            <ul id="leaderboard" class="list-group mt-3"></ul>
        </div>

    </div>
</div>
</div>

<script>
const quizData = [
    { question: "Which language styles web pages?", options: ["HTML","CSS","Python","C++"], correct: 1 },
    { question: "Which tag is for JavaScript?", options: ["<js>","<script>","<javascript>","<code>"], correct: 1 },
    { question: "Java was developed by?", options: ["Google","Sun Microsystems","Microsoft","IBM"], correct: 1 }
];

let currentQuestion = 0;
let score = 0;
let timeLeft = 10;
let timer;

const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const scoreStat = document.getElementById("scoreStat");
const accuracyEl = document.getElementById("accuracy");
const timerEl = document.getElementById("timer");

function loadQuestion(){
    resetTimer();
    startTimer();

    const current = quizData[currentQuestion];
    questionEl.innerText = current.question;
    optionsEl.innerHTML = "";

    current.options.forEach((option,index)=>{
        const btn = document.createElement("button");
        btn.classList.add("btn","btn-option","w-100","mb-2");
        btn.innerText = option;
        btn.onclick = ()=>checkAnswer(index);
        optionsEl.appendChild(btn);
    });
}

function checkAnswer(index){
    clearInterval(timer);
    const correct = quizData[currentQuestion].correct;

    if(index === correct){
        score++;
    }

    scoreStat.innerText = score;
    accuracyEl.innerText = Math.round((score/(currentQuestion+1))*100) + "%";
}

document.getElementById("nextBtn").onclick = ()=>{
    currentQuestion++;
    if(currentQuestion < quizData.length){
        loadQuestion();
    } else {
        showResult();   // üî• Redirect to result page
    }
};

function startTimer(){
    timer = setInterval(()=>{
        timeLeft--;
        timerEl.innerText = "‚è≥ " + timeLeft;
        if(timeLeft === 0){
            clearInterval(timer);
        }
    },1000);
}

function resetTimer(){
    timeLeft = 10;
    timerEl.innerText = "‚è≥ 10";
}

loadQuestion();
function showResult(){

// Store data for result page
localStorage.setItem("finalScore", score);
localStorage.setItem("totalQuestions", quizData.length);

// Redirect to result page
window.location.href = "result.html";
}
</script>


</body>
</html>